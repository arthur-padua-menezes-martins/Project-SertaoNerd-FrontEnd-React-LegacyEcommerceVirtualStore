/* basic modules************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import axios from 'axios'
import config from '../../config.js'

/* types************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import { GET_SEARCH_TERM } from '../types.js'
axios.defaults.withCredentials = true

/* return************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
export default {

  getSearchTerm: (searchTerm, offset, limit) => async dispatch => {
    await axios.get(`${config.api}/search/term/${searchTerm}?paginate=true&offset=${offset}&limit=${limit}`).then(response => {
      console.log(`${config.api}/search/term/${searchTerm}`)

      return dispatch({ type: GET_SEARCH_TERM, payload: response.data })
    }).catch(error => console.error(error))
  }

}
