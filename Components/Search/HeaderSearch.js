/*basic modules************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import React, { useState } from 'react'
import Router from 'next/router'

/*styled components************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import {
    StyledSectionHeaderSearch, StyledDivHeaderSearch, StyledInputSearchDesktop, StyledButtonSearchDesktop
} from './styles.js'


/*main function************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
const HeaderSearch = (props) => {


    /*state************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
    var [search, setSearch] = useState('')




    /*return************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
    return (
        <StyledSectionHeaderSearch>
            <StyledDivHeaderSearch>

                {props.Desktop && renderForDesktop()}

            </StyledDivHeaderSearch>
        </StyledSectionHeaderSearch>
    )




    /*render functions************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
    function renderForDesktop() {
        return (
            <>
                <StyledInputSearchDesktop
                    onChange={event => setSearch(event.target.value)}
                    value={search}
                    placeholder='estou buscando por'
                    autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                />

                <StyledButtonSearchDesktop onClick={() => searchTerm(search)}>

                    <div><img src="/svg/search.svg" alt="svg"/></div>

                </StyledButtonSearchDesktop>
            </>
        )
    }




    /*functions************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
    function searchTerm(search) {
        Router.push({ pathname: '/search', query: { search } })
    }
}
export default HeaderSearch